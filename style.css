@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;700&family=Fira+Code:wght@300;500&display=swap');

        :root {
            --p: #00f2ff; 
            --s: #7000ff; 
            --bg: #010103; 
            --bg2: #04040a;
            --glow: rgba(0, 242, 255, 0.3);
            --panic: 0;
        }

        body.theme-gold { --p: #ffcc00; --s: #ff8800; }
        body.theme-pink { --p: #ff007a; --s: #7000ff; }
        body.theme-green { --p: #00ff88; --s: #0088ff; }
        body.theme-matrix { --p: #00ff41; --s: #003b00; --bg: #000500; }
        body.theme-cyberpunk { --p: #fcee0a; --s: #ff003c; --bg: #020205; }
        body.theme-rainbow { animation: rainbow-bg 5s infinite linear; }
        body.theme-ocean { --p: #5de4ff; --s: #1b5bff; --bg: #031029; --bg2: #05062a; }
        body.theme-sunset { --p: #ffb347; --s: #ff416c; --bg: #2b0b1c; --bg2: #12060e; }
        body.theme-aurora { --p: #7cffe6; --s: #8d7bff; --bg: #040714; --bg2: #0b1b2d; }
        
        @keyframes rainbow-bg {
            0% { --p: #ff0000; --s: #ff7a00; } 
            25% { --p: #00ff00; --s: #00ffa5; } 
            50% { --p: #00ffff; --s: #0066ff; } 
            75% { --p: #ff00ff; --s: #7a00ff; } 
            100% { --p: #ff0000; --s: #ff7a00; }
        }

        @keyframes logo-float {
            0%, 100% { transform: translateY(0) scale(1); filter: drop-shadow(0 0 15px var(--p)); }
            50% { transform: translateY(-8px) scale(1.02); filter: drop-shadow(0 0 24px var(--p)); }
        }

        @keyframes xp-breathe {
            0%, 100% { box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 0 20px var(--glow); }
            50% { box-shadow: 0 10px 35px rgba(0,0,0,0.55), 0 0 40px var(--glow); }
        }

        @keyframes ui-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }

        @keyframes progress-shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        /* PANIC ANIMATIONS */
        @keyframes glitch-soft {
            0% { transform: translate(0); }
            50% { transform: translate(2px, -1px); filter: hue-rotate(10deg); }
            100% { transform: translate(0); }
        }

        @keyframes glitch-hard {
            0% { transform: translate(0); clip-path: inset(10% 0 30% 0); }
            20% { transform: translate(-15px, 10px); clip-path: inset(40% 0 10% 0); filter: invert(1); }
            40% { transform: translate(15px, -10px); clip-path: inset(20% 0 50% 0); }
            60% { transform: translate(-20px, 0); clip-path: inset(80% 0 5% 0); }
            100% { transform: translate(0); }
        }

        .p-glitch-light { animation: glitch-soft 2s infinite; opacity: 0.95; }
        .p-glitch-heavy { animation: glitch-hard 0.15s infinite; opacity: 0.9; }
        .p-void-tear { animation: void-tear 0.08s infinite; filter: invert(1) hue-rotate(180deg) saturate(2); }
        .p-panic { animation: panic-pulse 1.1s infinite; }
        
        .p-zero-point { filter: blur(5px) grayscale(0.5) contrast(2); }
        
        .p-absolute-zero { 
            filter: contrast(200) brightness(50) saturate(0) !important;
            animation: final-shatter-fixed 0.5s infinite;
        }

        @keyframes final-shatter-fixed {
            0% { transform: translate(2px, 2px); }
            50% { transform: translate(-2px, -2px); }
            100% { transform: translate(0); }
        }

        @keyframes void-tear {
            0%, 100% { clip-path: inset(0); transform: translateX(0) skew(0deg); }
            33% { clip-path: inset(15% 0 75% 0); transform: translateX(-30px) skew(5deg); }
            66% { clip-path: inset(65% 0 15% 0); transform: translateX(30px) skew(-5deg); }
        }
        
        @keyframes panic-pulse {
            0%, 100% { transform: translate(0); filter: saturate(1.1); }
            40% { transform: translate(1px, -2px) scale(1.01); filter: saturate(1.6) hue-rotate(8deg); }
            60% { transform: translate(-2px, 1px); filter: saturate(1.3) hue-rotate(-6deg); }
        }

        .panic-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at 50% 40%, rgba(255, 0, 80, calc(var(--panic) * 0.35)), transparent 60%),
                linear-gradient(180deg, rgba(255, 0, 50, calc(var(--panic) * 0.25)), transparent 35%, rgba(0, 0, 0, calc(var(--panic) * 0.35)));
            mix-blend-mode: screen;
            opacity: calc(var(--panic) * 0.9);
            z-index: 5;
            transition: opacity 0.3s ease;
        }

        .panic-overlay::after {
            content: "";
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(transparent 0 2px, rgba(255,255,255,0.06) 2px 3px);
            opacity: calc(var(--panic) * 0.6);
            animation: scanline 0.5s infinite linear;
        }

        @keyframes scanline {
            0% { transform: translateY(0); }
            100% { transform: translateY(3px); }
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;
            background: var(--bg); font-family: 'Inter', sans-serif; color: white;
            display: flex; justify-content: center; align-items: center;
        }

        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at top, rgba(255,255,255,0.08), transparent 55%),
                        linear-gradient(160deg, var(--bg), var(--bg2));
            z-index: 0;
        }

        #canvas { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none; }

        .stage {
            position: relative; z-index: 10; width: 100%; height: 100vh;
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center; padding: 28px; box-sizing: border-box;
            gap: 12px; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .main-logo { 
            width: 90px; filter: drop-shadow(0 0 15px var(--p));
            cursor: pointer; transition: 0.3s; user-select: none; z-index: 20;
            animation: logo-float 6s ease-in-out infinite;
        }

        .xp-display-container {
            text-align: center; background: rgba(255,255,255,0.04); 
            padding: 10px 22px; border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.12); cursor: pointer; min-width: 200px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 0 25px var(--glow);
            animation: xp-breathe 5s ease-in-out infinite;
        }
        .xp-val { font-family: 'Orbitron'; font-size: 22px; color: var(--p); text-shadow: 0 0 15px var(--p); font-weight: 900; }
        
        .countdown-grid { 
            display: grid; grid-template-columns: repeat(4, 1fr); 
            gap: 10px; width: 100%; max-width: 450px;
        }
        .time-box {
            background: rgba(6, 8, 18, 0.7);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 10px 6px;
            text-align: center;
            box-shadow: inset 0 0 15px rgba(255,255,255,0.03);
        }
        .v { display: block; font-family: 'Orbitron'; font-size: 2.2rem; font-weight: 900; text-align: center; }

        .terminal-container {
            width: 100%; max-width: 450px; background: rgba(0,0,0,0.9);
            border: 1px solid rgba(255,255,255,0.12); border-radius: 12px 12px 0 0; overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        #terminal-content {
            height: 60px; font-family: 'Fira Code', monospace; font-size: 10px; color: var(--p);
            padding: 8px; overflow-y: auto; display: flex; flex-direction: column-reverse; gap: 4px;
        }

        .info-panel {
            width: 100%; max-width: 450px; background: rgba(10,10,20,0.8);
            border: 1px solid rgba(255,255,255,0.1); border-top: none;
            border-radius: 0 0 12px 12px; padding: 12px; box-sizing: border-box;
            font-size: 9px; font-family: 'Orbitron'; color: rgba(255,255,255,0.4);
        }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
        .info-item { display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.05); padding: 2px 0; }
        .info-active { color: var(--p); text-shadow: 0 0 5px var(--p); font-weight: 900; border-color: var(--p); }

        .side-btns { position: fixed; right: 15px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 10px; z-index: 100; }
        .btn { 
            width: 44px; height: 44px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); 
            background: rgba(10,10,15,0.95); color: white; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; transition: 0.3s; font-size: 18px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            animation: ui-float 4.2s ease-in-out infinite;
        }
        .btn:hover { border-color: var(--p); box-shadow: 0 0 15px var(--p); transform: scale(1.05); }
        .side-btns .btn:nth-child(2) { animation-delay: 0.6s; }
        .side-btns .btn:nth-child(3) { animation-delay: 1.2s; }
        .side-btns .btn:nth-child(4) { animation-delay: 1.8s; }

        #final-screen {
            position: fixed; inset: 0; background: white; z-index: 100000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; font-family: 'Orbitron'; color: black;
        }

        #modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 5000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(15px); }
        .modal-win { width: 90%; max-width: 500px; padding: 25px; border: 1px solid var(--p); background: #050507; border-radius: 16px; max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 45px rgba(0,0,0,0.6); }
        .theme-vault { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; margin-top: 15px; }
        .theme-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; padding: 10px; font-family: 'Orbitron'; font-size: 9px; text-align: left; color: rgba(255,255,255,0.75); cursor: pointer; transition: 0.2s; }
        .theme-card:hover { border-color: var(--p); box-shadow: 0 0 12px var(--glow); transform: translateY(-2px); }
        .theme-preview { width: 100%; height: 40px; border-radius: 8px; margin-bottom: 8px; }
        .theme-card span { display: block; font-size: 8px; opacity: 0.6; letter-spacing: 1px; }

        .progress-bar-container { position: fixed; bottom: 0; left: 0; width: 100%; height: 4px; background: rgba(255,255,255,0.05); }
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--p), var(--s), var(--p));
            background-size: 200% 100%;
            box-shadow: 0 0 15px var(--p);
            animation: progress-shimmer 2.8s linear infinite;
        }

        .float-xp { position: fixed; pointer-events: none; font-family: 'Orbitron'; font-weight: 900; animation: xp-f 0.7s forwards; z-index: 5001; }
        @keyframes xp-f { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-100px); } }

        #test-indicator { position: fixed; top: 10px; left: 10px; font-family: 'Fira Code'; font-size: 10px; color: #ff0055; display: none; z-index: 1000; text-transform: uppercase; }
        
        .test-input-field {
            background: rgba(255,255,255,0.05); border: 1px solid var(--p); color: white;
            padding: 10px; border-radius: 8px; font-family: 'Fira Code'; width: 100%;
            margin: 15px 0; outline: none; text-align: center; font-size: 18px;
        }

        .reboot-btn {
            margin-top: 40px; padding: 12px 30px; background: black; color: white;
            border: 2px solid black; font-family: 'Orbitron'; cursor: pointer;
            font-weight: 900; transition: 0.3s; letter-spacing: 2px;
        }
        .reboot-btn:hover { background: white; color: black; transform: scale(1.1); }
